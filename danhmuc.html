<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400&display=swap" rel="stylesheet" />
  <script src="/js/angular.min.js"></script>
  <style>
    body {
      font-family: "Comfortaa", cursive;
      background: linear-gradient(to left, #d859d2, #33aeff);
    }

    .mg-custom {
      margin-top: 0%;
      margin-bottom: 1%;
    }

    .drop-menu-custom {
      margin-left: -100px;
    }

    .article-custom {
      border-radius: 5px;
    }

    .footer-custom {
      margin-top: 10%;
    }
  </style>
</head>

<body>
  <div class="container mg-custom">
    <div class="row m-0">
      <article class="col-9 bg-light article-custom mt-1">
        <div class="mx-3 my-5 fs-4">
          Thời gian làm bài: <span id="timecoundown" ng-model="user.time"></span> phút
        </div>
        <div class="card" ng-repeat="ch in cauhoi | limitTo:1:start">
          <div class="card-header fw-bold fs-4">
            {{tenMH}}
            <span class="fs-6 fst-italic">
              (Câu:&nbsp{{socauhoi}}/{{totalcauhoi}})</span>
          </div>
          <div class="card-body">
            <h5 class="card-title fs-5">{{ch.Text}}</h5>
            <hr />
            <div class="form-check" ng-repeat="pa in ch.Answers">
              <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1"
                ng-value="{{pa.Id}}" ng-model="diem" ng-click="getAnswer(pa.Id,ch.AnswerId)" />
              <label class="form-check-label fs-5" for="flexRadioDefault1" id="{{pa.Id}}">
                {{pa.Text}}
              </label>
            </div>
          </div>
          <div class="card-footer text-muted">
            Điểm:
            <span class="p-0 m-0" style="color: blue"> <b ng-model="user.mark">{{Marks}}</b></span>
          </div>
        </div>
        <div class="text-center my-3 border">
          <i class="fas fa-step-backward fs-2 btn" style="color: black" ng-click="prev()"></i>| |<i
            class="fas fa-step-forward fs-2 btn" style="color: black" ng-click="next()"></i>
        </div>
        <div class="row m-auto text-center bg-warning border">
          <h3 class="my-3">Bảng xếp hạng</h3>
        </div>
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th scope="col">Stt</th>
              <th scope="col">Tên</th>
              <th scope="col">Thời gian</th>
              <th scope="col">Điểm</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in user">
              <th scope="row">{{$index + 1}}</th>
              <td>{{item.fullname}}</td>
              <td>00:00</td>
              <td>{{item.marks}}</td>
            </tr>
          </tbody>
        </table>
      </article>

      <aside class="col-3 p-0">
        <div class="card mt-1 mx-3" style="width: 19rem">
          <div class="card-header fw-bold text-uppercase">
            Danh mục môn học
          </div>
          <div class="card-body p-0">
            <div class="listmonhoc" ng-include="'monhoc.html'"></div>
          </div>
        </div>
      </aside>
    </div>
  </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
<script>
    // let app = angular.module('tracNghiemApp', []);
    // app.controller('tracNghiemController', function ($scope, $http) {
    //   $http.get("Quizs/ADAV" + ".js").then(
    //     function (d) {
    //       $scope.cauhoi = d.data;
    //       console.log($scope.cauhoi);
    //     },
    //     function (d) {
    //       alert("Lỗi");
    //     }
    //   )
    //   $scope.start = 0;
    //   $scope.next = function () {
    //     if ($scope.start < $scope.cauhoi.length - 1) {
    //       $scope.start += 1;
    //     }
    //   };
    //   $scope.prev = function () {
    //     if ($scope.start > 0) {
    //       $scope.start -= 1;
    //     }
    //   };

    //   $scope.Marks = 0 ;
    //   $scope.getAnswer = (Id,asID) => {

    //       // console.log($scope.cauhoi[i].AnswerId);

    //       if (Id == asID) {
    //         document.getElementById(Id).style.color = "blue";
    //         $scope.Marks += 1;
    //         console.log("alo");
    //       } else {
    //         document.getElementById(Id).style.color = "red";
    //       }
    //     }
    // });
</script>
<script>
    // const startTime = 15;
    // let time = startTime * 60;
    // const countdown = document.getElementById('timecoundown');

    // setInterval(updateCountdown, 1000);

    // function updateCountdown(){
    //   const minutes = Math.floor(time / 60);
    //   let seconds = time % 60;
    //   seconds = seconds < 10 ? '0' + seconds : seconds;
    //   countdown.innerHTML = `${minutes}: ${seconds}`;
    //   time--;
    // }
</script>

</html>